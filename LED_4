 WRITE AN ECP TO SHIFT 8 LEDs FROM LEFT TO RIGHT ONE BY ONE @500MS USING LPC2129 

#include <lpc21xx.h>  
typedef unsigned int us;  
#define LED (1<<0 | 1<<1 | 1<<2 | 1<<3 | 1<<4 | 1<<5 | 1<<6 | 1<<7)

void delay_ms(us ms)
{
    T0PR = 15000 - 1;               // Prescaler: 15,000 counts = 1 ms (for 15 MHz PCLK)
    T0TCR = 0x03;                   // Reset & stop Timer0
    T0TCR = 0x01;                   // Start Timer0
    while (T0TC < ms);              // Wait until Timer0 counter reaches 'ms'
    T0TCR = 0x00;                   // Stop Timer0
}

int main()
{
    int i, j;                       // Loop counters

    PINSEL0 = 0x00000000;           // Configure P0.0–P0.15 as GPIO
    IODIR0 |= LED;                  // Set P0.0–P0.7 as output
    IOSET0 = 0xFF;                   // Turn OFF all LEDs initially (active-low)

    for (i = 0; i < 10; i++)        // Repeat pattern 10 times (change to while(1) for infinite loop)
    {
        for (j = 0; j < 8; j++)     // Loop through each LED from left (P0.0) to right (P0.7)
        {
            IOCLR0 = 1 << j;        // Turn ON the current LED (active-low)
            delay_ms(500);          // Wait 500 ms
            IOSET0 = 1 << j;        // Turn OFF the current LED
        }
    }
}
