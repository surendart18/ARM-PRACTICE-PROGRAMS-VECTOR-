WRITE AN ECP TO DISPLAY THE CONVERGENCE AND DIVERGENCE ON 8 LEDS USING LPC2129 

#include <lpc21xx.h>
typedef unsigned int us;
#define LED 0xff         

void delay_ms(us ms)
{
    T0PR = 15000-1;       // Set prescaler: 1 tick = 1 us (assuming PCLK = 15 MHz)
    T0TC = 0;             // Reset timer counter
    T0TCR = 0x01;         // Start timer
    while(T0TC < ms);     // Wait until timer counter reaches 'ms'
    T0TCR = 0x00;         // Stop timer
}

int main()
{
    int i;
    PINSEL0 = 0x00000000;  // Configure P0.0-P0.7 as GPIO
    IODIR0 |= LED;          // Set P0.0-P0.7 as output
    while(1)
    {
        IOSET0 = LED;       // Turn OFF all LEDs initially (active-low: 1 = OFF)

        for(i=0;i<8;i++)    
        {
            IOCLR0 = (1<<i)|(1<<(7-i));   // Turn ON left and right LEDs (active-low: 0 = ON)
            delay_ms(100);                  // Short delay to visualize LEDs
            IOSET0 = (1<<i)|(1<<(7-i));   // Turn OFF the same LEDs
        }
    }
}
